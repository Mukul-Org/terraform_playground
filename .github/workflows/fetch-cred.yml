# .github/workflows/fetch-cred.yml
name: Fetch Cred
on:
  workflow_dispatch:

permissions:
  contents: read
  pull-requests: write

jobs:
  all_jobs:
    name: Fetch Cred Job 1
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./examples/fabric_project

    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Set environment
        run: |
          echo "GOOGLE_APPLICATION_CREDENTIALS=${GITHUB_WORKSPACE}/.github/workflows/fake-key.json" >> $GITHUB_ENV

      - name: Writing file
        run: |
          echo $GOOGLE_APPLICATION_CREDENTIALS # This will print the file path in GOOGLE_APPLICATION_CREDENTIALS variable
          cat $GOOGLE_APPLICATION_CREDENTIALS # This will print the file content
        shell: bash
